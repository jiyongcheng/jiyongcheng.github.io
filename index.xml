<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>What, Why, How</title><link>https://jiyongcheng.dev/</link><description>Recent content on What, Why, How</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Fri, 17 Dec 2021 16:18:49 +1100</lastBuildDate><atom:link href="https://jiyongcheng.dev/index.xml" rel="self" type="application/rss+xml"/><item><title>Docker Mysql</title><link>https://jiyongcheng.dev/post/devops/docker/mysql/</link><pubDate>Fri, 17 Dec 2021 16:18:49 +1100</pubDate><guid>https://jiyongcheng.dev/post/devops/docker/mysql/</guid><description>&lt;p>docker-compose for mysql&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback"> mysql:
image: mysql
command: --default-authentication-plugin=mysql_native_password
restart: always
volumes:
- ./.data/db:/var/lib/mysql
ports:
- 33069:3306
environment:
MYSQL_ROOT_PASSWORD: root
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>If you have a mysql client want to connect to the mysql container, you need assign a port for it. like this &lt;code>33069&lt;/code>.&lt;/p>
&lt;p>Tnd then use the following parameters to connect the server.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">Host:127.0.0.1
username:root
password:root
port:33069
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Nginx knowledge</title><link>https://jiyongcheng.dev/post/devops/nginx/</link><pubDate>Fri, 17 Dec 2021 14:21:19 +1100</pubDate><guid>https://jiyongcheng.dev/post/devops/nginx/</guid><description>&lt;p>Some knowledge or questions related to NGINX&lt;/p>
&lt;h2 id="understanding-nginx-server-and-location-block-selection-algorithms">Understanding Nginx Server and Location Block Selection Algorithms&lt;/h2>
&lt;p>&lt;a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-server-and-location-block-selection-algorithms">checkout this article&lt;/a>&lt;/p>
&lt;ul>
&lt;li>prefix string/ prefix location
this means the location block has the &lt;code>/blabla&lt;/code> not the regex&lt;/li>
&lt;/ul>
&lt;h2 id="understand-the-nginx-config-for-php">Understand the nginx config for PHP&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">location ~ \.php$ {
fastcgi_pass php:9000;
fastcgi_param SCRIPT_FILENAME
}
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>The &lt;code>fastcig_param&lt;/code> directive sets the &lt;code>SCRIPT_FILENAME = $document_root$fastcgi_script_name&lt;/code>;&lt;/li>
&lt;li>The &lt;code>fastcgi_param&lt;/code> directive sets the FastCGI parameter &lt;code>SCRIPT_FILENAME&lt;/code> to &lt;code>/srv/sinojobs/public/index.php&lt;/code>,and &lt;strong>the FastCGI server&lt;/strong> executes the file.&lt;/li>
&lt;li>The variable &lt;code>$document_root&lt;/code> is equal to the value of the root directive and the variable &lt;code>$fastcgi_script_name&lt;/code> is equal to the request URI, i.e. &lt;code>/index.php&lt;/code>.&lt;/li>
&lt;/ul>
&lt;h2 id="nginx-parse-the-uri-info-then-pass-to-php">Nginx parse the uri info then pass to php&lt;/h2>
&lt;p>Nginx can parse the uri info then pass it to php, we can get the info from php variable &lt;code>$_SERVER[&amp;quot;PATH_INFO&amp;quot;]&lt;/code>&lt;/p></description></item><item><title>Commands</title><link>https://jiyongcheng.dev/post/devops/command/</link><pubDate>Mon, 13 Dec 2021 16:51:26 +1100</pubDate><guid>https://jiyongcheng.dev/post/devops/command/</guid><description>&lt;p>The commands that being used.&lt;/p>
&lt;h2 id="tail-command-to-choose-specific-number-of-lines-instead-of-the-default-10">tail command to choose specific number of lines instead of the default 10.&lt;/h2>
&lt;p>&lt;code>tail -n &amp;lt;number_of_lines&amp;gt; /path/to/file&lt;/code>&lt;/p>
&lt;h2 id="head-command">head command&lt;/h2>
&lt;ul>
&lt;li>print first 10 lines.
&lt;ul>
&lt;li>&lt;code>head /etc/passwd&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>print first two lines of a file.
&lt;ul>
&lt;li>&lt;code>head -n 2 /etc/passwd&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>print all lines starting from a line number you specify
&lt;ul>
&lt;li>&lt;code>head -n -27 /etc/passwd&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>PHP</title><link>https://jiyongcheng.dev/post/programming-language/php/php/</link><pubDate>Mon, 13 Dec 2021 15:36:52 +1100</pubDate><guid>https://jiyongcheng.dev/post/programming-language/php/php/</guid><description>&lt;p>Some PHP general ideas or issues.&lt;/p>
&lt;h2 id="error_reporting-level-in-different-environment">error_reporting level in different environment&lt;/h2>
&lt;p>Usually PHP &lt;code>notice&lt;/code> error will be turned off in production while leave it in development environment.
If the &lt;code>notice&lt;/code> is turned on in the dev environment, even though it&amp;rsquo;s a notice for php, it will still show to developer, so the developer can fix it.
in production, if it&amp;rsquo;s truned off, the logic might get passed through the &lt;code>notice&lt;/code> and go to further, then will probably show different error with local dev environment.&lt;/p>
&lt;p>So sometimes, turn off the &lt;code>notice&lt;/code> error_reporting level is a good way to understand the production issue.&lt;/p></description></item><item><title>General</title><link>https://jiyongcheng.dev/post/programming-language/general/</link><pubDate>Wed, 08 Dec 2021 17:30:02 +1100</pubDate><guid>https://jiyongcheng.dev/post/programming-language/general/</guid><description>&lt;p>For the general programming knowledge.&lt;/p>
&lt;h2 id="off-by-one-溢出">Off-By-One [溢出]&lt;/h2>
&lt;ul>
&lt;li>严格来说，off-by-one是一种特殊的溢出漏洞，off-by-one指程序向缓冲区中写入时，写入的字节数超过了这个缓冲区本身所申请的字节数并且只越界了一个字节。&lt;/li>
&lt;li>off-by-one，是指单字节缓冲区溢出，这种漏洞的产生往往与边界验证不严和字符串操作有关，也不排除写入的size正好就只多了一个字节的情况。&lt;/li>
&lt;li>一般认为，单字节溢出是难以利用的，但是因为Linux的堆管理机制ptmalloc验证的松散性，基于Linux堆的off-by-one漏洞利用起来并不复杂，并且威力强大。&lt;/li>
&lt;li>off-by-one是可以基于各种缓冲区的，比如栈、bss段等等，但是堆上（heap based）的off-by-one是CTF中比较常见的。&lt;/li>
&lt;/ul></description></item><item><title>Postgresql Questions</title><link>https://jiyongcheng.dev/post/db/postgresql/questions/</link><pubDate>Wed, 08 Dec 2021 12:11:03 +1100</pubDate><guid>https://jiyongcheng.dev/post/db/postgresql/questions/</guid><description>&lt;p>I try to list out the questions during working on Postgresql here for the future reference.&lt;/p>
&lt;h2 id="how-to-convert-date-string-to-timestamp-in-postgresql">How to convert date string to timestamp in postgresql?&lt;/h2>
&lt;p>Use function &lt;a href="https://www.postgresqltutorial.com/postgresql-to_timestamp/">TO_TIMESTAMP&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TO_TIMESTAMP&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2017-03-31 9:30:20&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;YYYY-MM-DD HH:MI:SS&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="c1">-- it will return as following:
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="mi">2017&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">03&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">000000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="how-to-return-a-string-value-from-jsonb-in-postgresql">How to return a string value from jsonb in Postgresql?&lt;/h2>
&lt;p>Use &lt;code>jsonb-&amp;gt;&amp;gt;key&lt;/code> operator, be carefuly if you use &lt;code>jsonb-&amp;gt;key&lt;/code> it will return back &lt;code>jsonb&lt;/code> type, not a string.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;{
&lt;/span>&lt;span class="s1"> &amp;#34;first_name&amp;#34;: &amp;#34;Adam&amp;#34;,
&lt;/span>&lt;span class="s1"> &amp;#34;last_name&amp;#34;: &amp;#34;Smith&amp;#34;,
&lt;/span>&lt;span class="s1"> &amp;#34;created_at&amp;#34;: &amp;#34;2021-12-07 03:08:57&amp;#34;,
&lt;/span>&lt;span class="s1"> &amp;#34;updated_at&amp;#34;: &amp;#34;2021-12-07 03:09:00&amp;#34;
&lt;/span>&lt;span class="s1">}&amp;#39;&lt;/span>&lt;span class="p">::&lt;/span>&lt;span class="n">jsonb&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;first_name&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="c1">-- it will return `Adam`
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="can-i-extract-the-info-from-jsonb-in-postgresql">Can I extract the info from jsonb in postgresql?&lt;/h2>
&lt;p>&lt;code>jsonb_extract_path ( from_json jsonb, VARIADIC path_elems text[] ) → jsonb&lt;/code>&lt;/p>
&lt;p>Extracts JSON sub-object at the specified path. (This is functionally equivalent to the #&amp;gt; operator, but writing the path out as a variadic list can be more convenient in some cases.)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="n">json_extract_path&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;{&amp;#34;f2&amp;#34;:{&amp;#34;f3&amp;#34;:1},&amp;#34;f4&amp;#34;:{&amp;#34;f5&amp;#34;:99,&amp;#34;f6&amp;#34;:&amp;#34;foo&amp;#34;}}&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;f4&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;f6&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">→&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;foo&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="how-to-put-log-in-stored-procedures">How to put log in stored procedures?&lt;/h2>
&lt;p>You need to change the config file &lt;code>postgresql.conf&lt;/code> and set &lt;code>log_min_messages = notice&lt;/code>, there are some options you can choose, check the config file.&lt;/p>
&lt;h2 id="is-not-null-work-with-composite-type-data">IS NOT NULL work with composite type data&lt;/h2>
&lt;p>If you have a value something that is a composite type, for example a row of a table, something &lt;code>IS NOT NULL&lt;/code> is only true if none of the attributes of the composite are NULL.
&lt;a href="https://www.postgresonline.com/journal/archives/373-Composite-data-types-why-IS-NOT-NULL-is-not-the-same-as-NOT-IS-NULL.html">check more details here&lt;/a>&lt;/p>
&lt;h2 id="how-to-save-24hours-time-format">How to save 24hours time format&lt;/h2>
&lt;p>if you see some error like this &lt;code>Postgresql ERROR: hour &amp;quot;16&amp;quot; is invalid for the 12-hour clock&lt;/code>
you could do this &lt;code>TO_TIMESTAMP(i_test_date -&amp;gt;&amp;gt; 'created_at', 'YYYY-MM-DD HH24:MI:SS')&lt;/code> to save the time as 24hours format&lt;/p></description></item><item><title>Git Commands</title><link>https://jiyongcheng.dev/post/devops/git/commands/</link><pubDate>Thu, 28 Oct 2021 15:40:40 +1100</pubDate><guid>https://jiyongcheng.dev/post/devops/git/commands/</guid><description>&lt;h2 id="git-commands">Git commands&lt;/h2>
&lt;p>list some commands often being used:&lt;/p>
&lt;h2 id="delete-branch">Delete branch&lt;/h2>
&lt;ul>
&lt;li>Deleting local branches&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">git branch -d feature/add-new-feature
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Deleting remote branches in Git&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash"> git push origin --delete feature/add-new-feature
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="change-branch-name">Change branch name&lt;/h2>
&lt;ul>
&lt;li>change name of local branch&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">git checkout &amp;lt;branch&amp;gt;
git branch -m &amp;lt;new_branch_name&amp;gt;
&lt;span class="c1">##example&lt;/span>
git checkout feature
git branch -m quickfix
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>change name of remote branch
&lt;ul>
&lt;li>you have to change branch name locally first&lt;/li>
&lt;li>then do the following:&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">git push &amp;lt;remote&amp;gt; :&amp;lt;old_branch_name&amp;gt; &amp;lt;new_branch_name&amp;gt;
&lt;span class="c1">#you have to set the upstream branch for the newly created branch using the “git upstream” command.&lt;/span>
git push &amp;lt;remote&amp;gt; -u &amp;lt;new_branch_name&amp;gt;
git push origin :feature quickfix
git push origin -u quickfix
&lt;span class="c1">## example&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Convert Sqlite to Mysql</title><link>https://jiyongcheng.dev/post/db/convert-sqlite-to-mysql/</link><pubDate>Thu, 28 Oct 2021 13:22:45 +1100</pubDate><guid>https://jiyongcheng.dev/post/db/convert-sqlite-to-mysql/</guid><description>&lt;h2 id="is-it-possible-to-convert-sqlite-to-mysql-as-is">Is it possible to convert SQLite to MySQL &amp;ldquo;as is&amp;rdquo;?&lt;/h2>
&lt;p>Probably the quick and easiest way to convert SQLite to MySQL includes two general steps:&lt;/p>
&lt;ul>
&lt;li>Export SQLite database to dump file using SQLite .dump command.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">sqlite3 sample.db .dump &amp;gt; dump.sql
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>You can then (in theory) import SQLite dump into the MySQL database.&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">mysql -p -u root -h 127.0.0.1 &lt;span class="nb">test&lt;/span> &amp;lt; dump.sql
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&amp;ldquo;In theory&amp;rdquo; means that solution wouldn&amp;rsquo;t work as there are a few differences in grammars between MySQL and SQLite.&lt;/p>
&lt;p>There are just some differences between SQLite and MySQL syntax&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>SQLite&lt;/th>
&lt;th>MySQL&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>AUTOINCREMENT&lt;/td>
&lt;td>AUTO_INCREMENT&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>TEXT&lt;/td>
&lt;td>varchars&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>double quotes (&amp;quot; &amp;ldquo;)&lt;/td>
&lt;td>backticks (` `)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>BEGIN TRANSACTION; COMMIT;&lt;/code>&lt;/td>
&lt;td>&lt;code> BEGIN; COMMIT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CLOB&lt;/td>
&lt;td>TINYTEXT, TEXT, MEDIUMTEXT, LONGTEXT&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>PRAGMA foreign_keys=OFF;&lt;/td>
&lt;td>SET FOREIGN_KEY_CHECKS=0;&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Upstream and Downstream</title><link>https://jiyongcheng.dev/post/system-design/upstream-downstream/</link><pubDate>Thu, 28 Oct 2021 09:31:07 +1100</pubDate><guid>https://jiyongcheng.dev/post/system-design/upstream-downstream/</guid><description>&lt;p>In the &lt;code>LNMP&lt;/code> development process, we often configure the nginx, and we will set similar like this&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">upstream php-fpm &lt;span class="o">{&lt;/span>
server php-fpm:9000&lt;span class="p">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>and I want to know what does &lt;code>upstream&lt;/code> here mean.&lt;/p>
&lt;p>&lt;img src="stream.drawio.svg" alt="Up stream and Down stream">&lt;/p>
&lt;p>So basically it&amp;rsquo;s about dependency, the &lt;code>Nginx&lt;/code> server depend on &lt;code>PHP&lt;/code> server to return back data. So &lt;code>PHP&lt;/code> server is upstream of &lt;code>Nginx&lt;/code>.&lt;/p>
&lt;p>The &lt;code>Browser&lt;/code> is depending on the &lt;code>Nginx&lt;/code> server to return back data, so &lt;code>Nginx&lt;/code> server is &lt;code>upstream&lt;/code> of &lt;code>Browser&lt;/code>.&lt;/p>
&lt;p>On the other hand, &lt;code>Browser&lt;/code> is &lt;code>downstream&lt;/code> of &lt;code>Nginx&lt;/code> server, because the data from &lt;code>Nginx&lt;/code> will flow into the &lt;code>Browser&lt;/code>, same as &lt;code>PHP&lt;/code>, &lt;code>DB&lt;/code>.&lt;/p>
&lt;blockquote>
&lt;p>A production process is very similar to a river, so it’s easy to grasp that as the process goes from one step to the next, we’re moving downstream.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>We can deduct the following rules:&lt;/p>
&lt;ul>
&lt;li>Dependency Rule: each item depends on all the items upstream from its viewpoint&lt;/li>
&lt;li>Value Rule: moving downstream, each step adds more value to the product&lt;/li>
&lt;/ul>
&lt;/blockquote></description></item><item><title>Docker commands</title><link>https://jiyongcheng.dev/post/devops/docker/docker-commands/</link><pubDate>Mon, 11 Oct 2021 14:31:07 +1000</pubDate><guid>https://jiyongcheng.dev/post/devops/docker/docker-commands/</guid><description>&lt;h2 id="does-docker-build---no-cache-actually-download-and-refresh-the-base-image">Does Docker build &amp;ndash;no-cache actually download and refresh the base image&lt;/h2>
&lt;p>The &amp;ndash;no-cache option will rebuild the image without using the local cached layers.&lt;/p>
&lt;p>However, the FROM line will reuse the already pulled base image if it exists on the build host (the from line itself may not be cached, but the image it pulls is).&lt;/p>
&lt;p>If you want to pull the base image again, you can use the &amp;ndash;pull option to the build command. E.g.&lt;/p>
&lt;p>&lt;code>docker build --no-cache --pull -t new-image-name:latest .&lt;/code>&lt;/p>
&lt;p>&lt;a href="https://stackoverflow.com/questions/52664744/does-docker-build-no-cache-actually-download-and-refresh-the-base-image#52666415">check more from here&lt;/a>&lt;/p></description></item><item><title>Data structures and algorithm</title><link>https://jiyongcheng.dev/resource/datastructure/</link><pubDate>Thu, 07 Oct 2021 09:29:55 +1000</pubDate><guid>https://jiyongcheng.dev/resource/datastructure/</guid><description>&lt;h2 id="algorithm">Algorithm&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/williamfiset/Algorithms">https://github.com/williamfiset/Algorithms&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="practice">Practice&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/karan/Projects">https://github.com/karan/Projects&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>DBs</title><link>https://jiyongcheng.dev/resource/db/</link><pubDate>Thu, 07 Oct 2021 09:29:55 +1000</pubDate><guid>https://jiyongcheng.dev/resource/db/</guid><description>&lt;h2 id="postgresql">PostgreSQL&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/faisalbasra/postgres_books">https://github.com/faisalbasra/postgres_books&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="mysql">Mysql&lt;/h2>
&lt;ul>
&lt;li>deadlocks &lt;a href="https://github.com/aneasystone/mysql-deadlocks">https://github.com/aneasystone/mysql-deadlocks&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Books</title><link>https://jiyongcheng.dev/resource/book/</link><pubDate>Wed, 06 Oct 2021 09:29:55 +1000</pubDate><guid>https://jiyongcheng.dev/resource/book/</guid><description>&lt;ul>
&lt;li>&lt;a href="https://github.com/stormtrooper96/books">https://github.com/stormtrooper96/books&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/AB1908/CS-Books">https://github.com/AB1908/CS-Books&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Check Port Being Used</title><link>https://jiyongcheng.dev/post/devops/linux/check-port-being-used/</link><pubDate>Wed, 29 Sep 2021 12:45:41 +1000</pubDate><guid>https://jiyongcheng.dev/post/devops/linux/check-port-being-used/</guid><description>&lt;p>&lt;code>lsof&lt;/code> list open files&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">lsof -i -P -n &lt;span class="p">|&lt;/span> grep LISTEN
- -i selects the listing of all Internet and x.25 &lt;span class="o">(&lt;/span>HP-UX&lt;span class="o">)&lt;/span> network files
- -P inhibit the conversion of port numbers to port names
- -n inhibit the conversion of network numbers to host names
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>-P and -n will make the lookup faster&lt;/code>&lt;/p>
&lt;h2 id="example">Example&lt;/h2>
&lt;h3 id="list-only-files-that-listen-to-port-80">List only files that listen to port 80&lt;/h3>
&lt;p>&lt;code>lsof -i:80 -P -n | grep LISTEN&lt;/code>&lt;/p></description></item><item><title>Understanding Git</title><link>https://jiyongcheng.dev/post/devops/git/understanding-git/</link><pubDate>Tue, 28 Sep 2021 15:35:23 +1000</pubDate><guid>https://jiyongcheng.dev/post/devops/git/understanding-git/</guid><description>&lt;h2 id="what-does-10064-mean-in-git">What does 10064 mean in Git?&lt;/h2>
&lt;p>When you do &lt;code>git commit&lt;/code> command, you probably have seen this information&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback"> delete mode 100644 layouts/resource/index.html
create mode 100644 layouts/resource/section.html
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>but what does this series of number mean?&lt;/p>
&lt;p>The values shown are the 16-bit file modes as stored by Git, you can &lt;a href="https://github.com/git/git/blob/master/Documentation/technical/index-format.txt">check here&lt;/a> to know more:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback"> 32-bit mode, split into (high to low bits)
4-bit object type
valid values in binary are 1000 (regular file), 1010 (symbolic link) and 1110 (gitlink)
3-bit unused
9-bit unix permission. Only 0755 and 0644 are valid for regular files.
Symbolic links and gitlinks have value 0 in this field.
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>If the file doesn’t mention directories; they are represented using object type 0100.&lt;/p>
&lt;p>Each digit in the six-digit value is in octal, representing three bits; 16 bits thus need six digits, the first of which only represents one bit:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">Type|---|Perm bits
1000 000 111101101
1 0 0 7 5 5
1000 000 110100100
1 0 0 6 4 4
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Git doesn’t store arbitrary modes, only a subset of the values are allowed, from the usual POSIX types and modes (in octal, 12 for a symbolic link, 10 for a regular file, 04 for a directory) to which git adds 16 for Git links. The mode is appended, using four octal digits.&lt;/p>
&lt;p>For files,&lt;/p>
&lt;p>you’ll only ever see 100755 or 100644 (although 100664 is also technically possible);&lt;/p>
&lt;p>directories are 040000 (permissions are ignored),&lt;/p>
&lt;p>symbolic links 120000.&lt;/p>
&lt;p>The set-user-ID, set-group-ID and sticky bits aren’t supported at all (they would be stored in the unused bits).&lt;/p></description></item><item><title>Create Array With Object From List using jq</title><link>https://jiyongcheng.dev/post/devops/jq/create-array-with-object-from-list/</link><pubDate>Wed, 22 Sep 2021 14:31:07 +1000</pubDate><guid>https://jiyongcheng.dev/post/devops/jq/create-array-with-object-from-list/</guid><description>&lt;h2 id="problem">Problem&lt;/h2>
&lt;p>We have a list of &lt;code>IDs&lt;/code> generated into a file &lt;code>F&lt;/code> with this format:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">2f9921bc-a4c9-419a-b069-f8f23c7727f7
26bf5cc3-73de-425e-9a6b-b70223387314
30ac5b4c-f4c6-42c6-901d-e8bdf16464b8
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>We want to generate a &lt;code>JSON&lt;/code> object from the &lt;code>IDs&lt;/code> with this structure:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;users&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;user_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2f9921bc-a4c9-419a-b069-f8f23c7727f7&amp;#34;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">],&lt;/span>
&lt;span class="nt">&amp;#34;organisation_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nt">&amp;#34;user-type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="the-way-we-do-it">The way we do it&lt;/h2>
&lt;h3 id="we-use-jq">we use &lt;code>jq&lt;/code>&lt;/h3>
&lt;ul>
&lt;li>what is &lt;code>jq&lt;/code>
&lt;ul>
&lt;li>&lt;code>jq&lt;/code> is a lightweight and flexible command-line JSON processor. 轻量级的命令行JSON处理器，非常灵活&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>what are the main features
&lt;ul>
&lt;li>&lt;code>jq&lt;/code> is like &lt;code>sed&lt;/code> for &lt;code>JSON&lt;/code> data
&lt;ul>
&lt;li>你可以方便的使用它对结构化的数据进行&lt;code>slice&lt;/code> and &lt;code>filter&lt;/code> and &lt;code>map&lt;/code> and &lt;code>transform&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>jq&lt;/code> is written in portable C, and it has zero runtime dependencies.
&lt;ul>
&lt;li>它没有运行时的依赖&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://stedolan.github.io/jq/tutorial/">Tutorial&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://stedolan.github.io/jq/manual/">Manual&lt;/a> or you can run &lt;code>man jq&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="how-do-we-do-it">How do we do it&lt;/h2>
&lt;p>the following is the code&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash"> &lt;span class="nv">USER_IDS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>jq -Rn &lt;span class="s1">&amp;#39;
&lt;/span>&lt;span class="s1"> def assemble_user($user_id): {
&lt;/span>&lt;span class="s1"> &amp;#34;user_id&amp;#34;: $user_id
&lt;/span>&lt;span class="s1"> };
&lt;/span>&lt;span class="s1"> [
&lt;/span>&lt;span class="s1"> inputs
&lt;/span>&lt;span class="s1"> | select(length&amp;gt;0)
&lt;/span>&lt;span class="s1"> | assemble_user(.)
&lt;/span>&lt;span class="s1"> ]&amp;#39;&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&amp;lt;&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$USER_IDS&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;span class="nv">USER_JSON&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span> jq -n &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --argjson user_ids &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$USER_IDS&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --arg organisation_id &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$ORGANISATION_ID&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --arg user_type &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$USER_TYPE&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> &lt;span class="s1">&amp;#39;{organisation_id: $organisation_id, user_type: $user_type, users: $user_ids}&amp;#39;&lt;/span> &lt;span class="k">)&lt;/span>
&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$USER_JSON&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="syntax-of-jq">Syntax of jq&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&amp;ndash;raw-input/-R:
&lt;strong>Don&amp;rsquo;t parse the input as JSON&lt;/strong>. Instead, each line of text is &lt;strong>passed to the filter as a &lt;code>string&lt;/code>&lt;/strong>. If combined with &amp;ndash;slurp, then the entire input is passed to the filter as a single long string.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&amp;ndash;null-input/-n:
Don&amp;rsquo;t read any input at all! Instead, the filter is run once using null as the input. This is useful when using jq as a simple calculator or to construct JSON data from scratch.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>input&lt;/code> and &lt;code>inputs&lt;/code>, that read from the same sources (e.g., stdin, files named on the command-line) as jq itself.&lt;/p>
&lt;ul>
&lt;li>&lt;code>input&lt;/code> Outputs one new input.&lt;/li>
&lt;li>&lt;code>inputs&lt;/code> Outputs all remaining inputs, one by one.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="explaination-of-the-process">Explaination of the process&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;code>-R&lt;/code> means jq will treat the anything it gets as a string not a JSON. if you don&amp;rsquo;t use &lt;code>-R&lt;/code> and pass a string as input, it will throw error.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>-n&lt;/code> means jq will not read any input. so it can work together with &lt;code>inputs&lt;/code> to construct a JSON data.&lt;/p>
&lt;ul>
&lt;li>if you do this &lt;code>echo '1\n2\n3' | jq -R '[inputs]'&lt;/code> you will only get &lt;code>[&amp;quot;2&amp;quot;,&amp;quot;3&amp;quot;]&lt;/code>. why? because without &lt;code>-n&lt;/code> jq will read a input, which is &lt;code>1&lt;/code>, then the &lt;code>inputs&lt;/code> will ouputs the &lt;strong>remaining&lt;/strong> inputs, which are &lt;code>2\n3&lt;/code>.&lt;/li>
&lt;li>if you do this &lt;code>echo '1\n2\n3' | jq -Rn '[inputs]'&lt;/code>, you will get &lt;code>[&amp;quot;1&amp;quot;,&amp;quot;2&amp;quot;,&amp;quot;3&amp;quot;]&lt;/code>. why? because with &lt;code>-n&lt;/code> jq will &lt;strong>not&lt;/strong> read a input, so the &lt;code>inputs&lt;/code> will outputs the &lt;strong>remaining&lt;/strong> inputs, which are &lt;code>1\n2\n3&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>select(length&amp;gt;0)&lt;/code> for each input, it will filter out the empty input&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>assemble_user(.)&lt;/code> for each input, it will call the def &lt;code>assemble_user&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>def assemble_user($user_id): {&amp;quot;user_id&amp;quot;: $user_id}&lt;/code> for each input like &lt;code>123&lt;/code>, it will return a object like &lt;code>{&amp;quot;user_id&amp;quot;: 123}&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>&amp;lt;&amp;lt;&amp;lt;&lt;/code> this symbol means &lt;code>Here string&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;code>&amp;lt;&amp;lt;&amp;lt;&lt;/code> is known as here-string. Instead of typing in text, you give a pre-made string of text to a program. For example, with such program as bc we can do bc &amp;laquo;&amp;lt; 5&lt;em>4 to just get output for that specific case, no need to run bc interactively. Think of it as the equivalent of echo &amp;lsquo;5&lt;/em>4&amp;rsquo; | bc.&lt;/li>
&lt;/ul>
&lt;p>check the difference between &lt;code>&amp;lt;,&amp;lt;&amp;lt;,&amp;lt;&amp;lt;&amp;lt;&lt;/code> &lt;a href="https://askubuntu.com/questions/678915/whats-the-difference-between-and-in-bash">here&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>--argjson&lt;/code> means it has a JSON data as the argument.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>--arg&lt;/code> means it has a string data as the argument&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>jq -n --argjson user_ids &amp;quot;$USER_IDS&amp;quot; --arg organisation_id &amp;quot;$ORGANISATION_ID&amp;quot; &lt;/code> you can structure a JSON data easily.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="the-result">The result&lt;/h2>
&lt;ul>
&lt;li>So first step I get the array with objects.
&lt;ul>
&lt;li>if you do this quickly&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;2f9921bc-a4c9-419a-b069-f8f23c7727f7\n26bf5cc3-73de-425e-9a6b-b70223387314\n30ac5b4c-f4c6-42c6-901d-e8bdf16464b8&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> jq -Rn &lt;span class="s1">&amp;#39;
&lt;/span>&lt;span class="s1"> def assemble_users($user_id): {&amp;#34;user_id&amp;#34;: $user_id};
&lt;/span>&lt;span class="s1"> [
&lt;/span>&lt;span class="s1"> inputs
&lt;/span>&lt;span class="s1"> | select(length&amp;gt;0)
&lt;/span>&lt;span class="s1"> | assemble_users(.)
&lt;/span>&lt;span class="s1"> ]&amp;#39;&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>you will get:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="p">[&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;user_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2f9921bc-a4c9-419a-b069-f8f23c7727f7&amp;#34;&lt;/span>
&lt;span class="p">},&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;user_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;26bf5cc3-73de-425e-9a6b-b70223387314&amp;#34;&lt;/span>
&lt;span class="p">},&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;user_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;30ac5b4c-f4c6-42c6-901d-e8bdf16464b8&amp;#34;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Second, I assemble them together as a object. you will get&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;users&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;user_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2f9921bc-a4c9-419a-b069-f8f23c7727f7&amp;#34;&lt;/span>
&lt;span class="p">},&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;user_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;26bf5cc3-73de-425e-9a6b-b70223387314&amp;#34;&lt;/span>
&lt;span class="p">},&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;user_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;30ac5b4c-f4c6-42c6-901d-e8bdf16464b8&amp;#34;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">],&lt;/span>
&lt;span class="nt">&amp;#34;organisation_id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nt">&amp;#34;user-type&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>DevOps</title><link>https://jiyongcheng.dev/resource/devops/</link><pubDate>Wed, 22 Sep 2021 09:29:55 +1000</pubDate><guid>https://jiyongcheng.dev/resource/devops/</guid><description>&lt;h1 id="makefile">makefile&lt;/h1>
&lt;ul>
&lt;li>Makefile: &lt;a href="https://makefiletutorial.com/#getting-started">https://makefiletutorial.com/#getting-started&lt;/a>&lt;/li>
&lt;/ul>
&lt;h1 id="git">git&lt;/h1>
&lt;ul>
&lt;li>&lt;a href="https://www.git-scm.com/book/en/v2">https://www.git-scm.com/book/en/v2&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.atlassian.com/git/tutorials/what-is-version-control">https://www.atlassian.com/git/tutorials/what-is-version-control&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>English</title><link>https://jiyongcheng.dev/resource/english/</link><pubDate>Wed, 22 Sep 2021 09:29:55 +1000</pubDate><guid>https://jiyongcheng.dev/resource/english/</guid><description>&lt;p>发音的本质是通过感官（耳朵+眼睛），协助嘴（口腔肌肉），养成正确的发音习惯。 眼（观察口型）+ 耳朵（辩音）+ 嘴（刻意练习）= 漂亮的音&lt;/p>
&lt;ul>
&lt;li>Master spoken english: &lt;a href="https://www.youtube.com/watch?v=ilrPvgs29v0&amp;amp;list=PL9YsEhi5oFAbjsAqP-3b-fAIip98pAsx9&amp;amp;index=3">https://www.youtube.com/watch?v=ilrPvgs29v0&amp;amp;list=PL9YsEhi5oFAbjsAqP-3b-fAIip98pAsx9&amp;amp;index=3&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Interesting</title><link>https://jiyongcheng.dev/resource/interesting/</link><pubDate>Wed, 22 Sep 2021 09:29:55 +1000</pubDate><guid>https://jiyongcheng.dev/resource/interesting/</guid><description>&lt;h2 id="uncategorised">Uncategorised&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://joelcalifa.com/work/">https://joelcalifa.com/work/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/laradock/laradock">https://github.com/laradock/laradock&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/google/eng-practices">https://github.com/google/eng-practices&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="blog">Blog&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/hawx1993/tech-blog">https://github.com/hawx1993/tech-blog&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/mqyqingfeng/Blog">https://github.com/mqyqingfeng/Blog&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/singpenguin/ppt">https://github.com/singpenguin/ppt&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="magazine">Magazine&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/rogerzhu/MNWeeklyCategory">https://github.com/rogerzhu/MNWeeklyCategory&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="interview">Interview&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/monklof/Back-End-Developer-Interview-Questions">https://github.com/monklof/Back-End-Developer-Interview-Questions&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/sharu725/online-cv">https://github.com/sharu725/online-cv&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/yangshun/front-end-interview-handbook">https://github.com/yangshun/front-end-interview-handbook&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="courses">Courses&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/prakhar1989/awesome-courses">https://github.com/prakhar1989/awesome-courses&lt;/a>&lt;/li>
&lt;li>computer science &lt;a href="https://github.com/1c7/Crash-Course-Computer-Science-Chinese">https://github.com/1c7/Crash-Course-Computer-Science-Chinese&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="math">Math&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://mathlets.org/mathlets/">https://mathlets.org/mathlets/&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Programming language</title><link>https://jiyongcheng.dev/resource/programming-language/</link><pubDate>Wed, 22 Sep 2021 09:29:55 +1000</pubDate><guid>https://jiyongcheng.dev/resource/programming-language/</guid><description>&lt;h2 id="tools-for-programming-languages">Tools for programming languages&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://programming-idioms.org/about#about-block-all-idioms">https://programming-idioms.org/about#about-block-all-idioms&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="java">Java&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://programmingbydoing.com/">https://programmingbydoing.com/&lt;/a>&lt;/li>
&lt;li>java-a-beginners-guide-eighth-edition: &lt;a href="https://pdfroom.com/books/java-a-beginners-guide-eighth-edition/PXn2GJrKgxV">https://pdfroom.com/books/java-a-beginners-guide-eighth-edition/PXn2GJrKgxV&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="python">Python&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://realpython.com/">https://realpython.com/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://au1lib.org/book/5973705/f707f1?id=5973705&amp;amp;secret=f707f1">https://au1lib.org/book/5973705/f707f1?id=5973705&amp;amp;secret=f707f1&lt;/a> books for download&lt;/li>
&lt;li>free books :https://github.com/pamoroso/free-python-books&lt;/li>
&lt;/ul>
&lt;h2 id="php">PHP&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/jiyongcheng/awesome-php">https://github.com/jiyongcheng/awesome-php&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/codeguy/php-the-right-way">https://github.com/codeguy/php-the-right-way&lt;/a>&lt;/li>
&lt;li>Design pattern &lt;a href="https://github.com/DesignPatternsPHP/DesignPatternsPHP">https://github.com/DesignPatternsPHP/DesignPatternsPHP&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/PatrickLouys/professional-php-sample-code">https://github.com/PatrickLouys/professional-php-sample-code&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="framework">Framework&lt;/h3>
&lt;ul>
&lt;li>Simovative PRG-HTTP-Framework &lt;a href="https://github.com/Simovative/zeus">https://github.com/Simovative/zeus&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/microinginer/yii2-dropdown-action-column">https://github.com/microinginer/yii2-dropdown-action-column&lt;/a>&lt;/li>
&lt;li>Symfony 4 &lt;a href="https://github.com/eko/docker-symfony">https://github.com/eko/docker-symfony&lt;/a>&lt;/li>
&lt;li>Magento 1.9 &lt;a href="https://github.com/andreaskoch/dockerized-magento">https://github.com/andreaskoch/dockerized-magento&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="javascript">Javascript&lt;/h2>
&lt;ul>
&lt;li>Javascript &lt;a href="https://masteringjs.io/fundamentals">https://masteringjs.io/fundamentals&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="golang">GoLang&lt;/h2>
&lt;ul>
&lt;li>
&lt;ul>
&lt;li>&lt;a href="https://github.com/unknwon/the-way-to-go_ZH_CN">https://github.com/unknwon/the-way-to-go_ZH_CN&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item></channel></rss>